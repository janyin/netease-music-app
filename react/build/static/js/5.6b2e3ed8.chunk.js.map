{"version":3,"sources":["components/song/index.jsx","components/song/index.module.css","assets/foot.svg","components/home/index.module.css","components/home/remdlist/index.module.css","components/rank/index.module.css","components/search/trending/index.module.css","assets/logo.svg","components/home/footer/index.jsx","components/home/remdlist/index.jsx","components/home/index.jsx","components/rank/index.jsx","components/search/trending/index.jsx","components/search/index.jsx","page/layout/index.jsx"],"names":["Song","data","title","alias","artists","album","rank","color","history","useHistory","className","styles","song","onClick","push","pathname","query","song_num","highlight","song_wrapper","song_info","song_title","song_detail","sq","song_play","play_icon","module","exports","Footer","src","foot","alt","window","open","RemdList","props","id","imgUrl","play","name","gotoPlayList","remdli","listimg","text","connect","state","newSong","remd","playList","getPlaylist","a","loading","hide","content","length","list","slice","map","value","key","hot_top","hot_flex","hot_icon","hot_time","d","Date","getMonth","getDate","getTime","ranklist","Trending","hotWord","searchWord","hot_list","hot_word","first","searchResult","curWord","getSearchSong","clearSearchSong","setCurWord","val","placeholder","onSubmit","onChange","trim","onCancel","Layout","tabs","logo","initialPage"],"mappings":"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","file":"static/js/5.6b2e3ed8.chunk.js","sourcesContent":["import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport styles from './index.module.css';\n\n/**\n * 单个歌曲展示组件\n * @author janyin\n */\nfunction Song({ data }) {\n  const { title, alias, artists, album, rank = false, color = false } = data;\n  const history = useHistory();\n\n  return (\n    <div\n      className={styles.song}\n      onClick={() => history.push({ pathname: '/player', query: data })}\n    >\n      {rank && (\n        <div className={`${styles.song_num} ${color && styles.highlight}`}>\n          {rank}\n        </div>\n      )}\n      <div className={styles.song_wrapper}>\n        <div className={styles.song_info}>\n          <div className={styles.song_title}>\n            {title}\n            {alias && <span>({alias})</span>}\n          </div>\n          <div className={styles.song_detail}>\n            <i className={styles.sq} />\n            {artists} -{album}\n          </div>\n        </div>\n        <div className={styles.song_play}>\n          <span className={styles.play_icon} />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Song;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"song\":\"song_song__E4_5P\",\"song_num\":\"song_song_num__2kiYm\",\"highlight\":\"song_highlight__3D1Jp\",\"song_wrapper\":\"song_song_wrapper__1G1gq\",\"play_icon\":\"song_play_icon__1-FCI\",\"song_info\":\"song_song_info__3xkYG\",\"song_play\":\"song_song_play__1q38D\",\"sq\":\"song_sq__29p30\",\"song_detail\":\"song_song_detail__22cri\",\"song_title\":\"song_song_title__2WB6_\"};","module.exports = __webpack_public_path__ + \"static/media/foot.dab1a15c.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"home_content__3S-Ja\",\"remd\":\"home_remd__jlozS\",\"list\":\"home_list__rvhTo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"text\":\"remdlist_text__3XEyO\",\"remdli\":\"remdlist_remdli__3zvle\",\"listimg\":\"remdlist_listimg__18Hfc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"hot_time\":\"rank_hot_time__3ADDC\",\"hot_icon\":\"rank_hot_icon__prkL4\",\"hot_flex\":\"rank_hot_flex__3PdGH\",\"hot_top\":\"rank_hot_top__TKE5x\",\"ranklist\":\"rank_ranklist__3kG6x\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"hot_word\":\"trending_hot_word__3rVjs\",\"hot_list\":\"trending_hot_list__2Ung5\",\"list\":\"trending_list__2ZRsC\"};","module.exports = __webpack_public_path__ + \"static/media/logo.469b70d6.svg\";","import foot from '@/assets/foot.svg';\nimport React from 'react';\nimport './index.css';\n\n/**\n * 首页底部\n */\nfunction Footer() {\n  return (\n    <div className=\"foot\">\n      <div className=\"foot-wrapper\">\n        <div className=\"foot-logo\">\n          <img src={foot} alt=\"logo\" className=\"logosvg\" />\n        </div>\n        <div className=\"openapp\" onClick={() => window.open('https://github.com/janyin/react-music-app')}>\n          如果喜欢可以给个star--&gt;GitHub\n        </div>\n        <p className=\"copyright\">模仿网站 仅供学习交流</p>\n      </div>\n    </div>\n  );\n}\n\nexport default Footer;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { LazyLoadImage } from 'react-lazy-load-image-component';\nimport styles from './index.module.css';\n\n/**\n * 推荐歌单\n */\nfunction RemdList(props) {\n  const { id, imgUrl, play, name, gotoPlayList } = props;\n\n  return (\n    <span onClick={() => gotoPlayList(id)} className={styles.remdli}>\n      <div className={styles.listimg}>\n        <LazyLoadImage src={imgUrl} alt=\"pic\" />\n        <span>{play}</span>\n      </div>\n      <p className={styles.text}>{name}</p>\n    </span>\n  );\n}\n\nRemdList.propTypes = {\n  id: PropTypes.number.isRequired,\n  play: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  imgUrl: PropTypes.string.isRequired,\n};\n\nexport default RemdList;\n","import Song from '@/components/song/';\nimport { getPlaylist } from '@/store/action';\nimport { Toast } from 'antd-mobile';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport Footer from './footer';\nimport styles from './index.module.css';\nimport RemdList from './remdlist';\n\n/**\n * 首页\n * @author janyin\n */\nfunction Home({ playList, getPlaylist, remd, newSong }) {\n  const history = useHistory();\n  /**\n   * 跳转到歌单详情页面\n   * @param {Number} id 歌单ID\n   */\n  async function gotoPlayList(id) {\n    if (!playList.id || id !== playList.id) {\n      Toast.loading('正在加载数据...', 100);\n      await getPlaylist(id);\n      Toast.hide();\n    }\n    history.push('/playlist');\n  }\n\n  return (\n    <div className={styles.content}>\n      <h2 className={styles.remd}>推荐歌单</h2>\n      {remd.length > 0 ? (\n        <>\n          <div className={styles.list}>\n            {remd.slice(0, 3).map((value) => (\n              <RemdList gotoPlayList={gotoPlayList} {...value} key={value.id} />\n            ))}\n          </div>\n          <div className={styles.list}>\n            {remd.slice(3, 6).map((value) => (\n              <RemdList gotoPlayList={gotoPlayList} {...value} key={value.id} />\n            ))}\n          </div>\n        </>\n      ) : (\n        <div>loading...</div>\n      )}\n      <h2 className={styles.remd}>最新音乐</h2>\n      <section>\n        {newSong.length > 0 ? (\n          newSong.map((value) => <Song data={value} key={value.id} />)\n        ) : (\n          <div>loading...</div>\n        )}\n      </section>\n      <Footer />\n    </div>\n  );\n}\n\nexport default connect(\n  (state) => ({\n    newSong: state.newSong,\n    remd: state.remd,\n    playList: state.playList,\n  }),\n  { getPlaylist },\n)(Home);\n","import React from 'react';\nimport Song from '@/components/song/';\nimport { connect } from 'react-redux';\nimport styles from './index.module.css';\n\n/**\n * 排行榜页面\n * @author janyin\n */\n\n/**\n * 获取当前时间\n */\nfunction getTime() {\n  const d = new Date();\n  return `${d.getMonth() + 1}月${d.getDate()}日`;\n}\n\nfunction Rank({ rank }) {\n  return (\n    <div>\n      <div className={styles.hot_top}>\n        <div className={styles.hot_flex}>\n          <div className={styles.hot_icon} />\n          <div className={styles.hot_time}>\n            更新日期：\n            {getTime()}\n          </div>\n        </div>\n      </div>\n      <section className={styles.ranklist}>\n        {rank.map((value) => (\n          <Song data={value} key={value.id} />\n        ))}\n      </section>\n    </div>\n  );\n}\n\nexport default connect((state) => ({\n  rank: state.rank,\n}))(Rank);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './index.module.css';\n\n/**\n * 搜索热词\n * @author janyin\n */\nfunction Trending({ hotWord, searchWord }) {\n  return (\n    <div className={styles.hot_list}>\n      <h3>热门搜索</h3>\n      <div className={styles.list}>\n        {hotWord.map((value) => (\n          <span\n            className={styles.hot_word}\n            key={value.first}\n            onClick={() => searchWord(value.first)}\n          >\n            <span>{value.first}</span>\n          </span>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nTrending.propTypes = {\n  hotWord: PropTypes.array.isRequired,\n};\n\nexport default Trending;\n","import React from 'react';\nimport { SearchBar, Toast } from 'antd-mobile';\nimport Song from '@/components/song/';\nimport { connect } from 'react-redux';\nimport { getSearchSong, clearSearchSong, setCurWord } from '@/store/action';\nimport Trending from './trending';\n\n/**\n * 搜索页面\n * @author janyin\n */\nfunction Search({\n  getSearchSong,\n  setCurWord,\n  curWord,\n  clearSearchSong,\n  hotWord,\n  searchResult,\n}) {\n  /**\n   * 搜索歌曲处理\n   * @param {String} val 搜索词\n   */\n  async function searchWord(val) {\n    Toast.loading('正在加载数据...', 100);\n    if (!curWord) {\n      setCurWord(val);\n    }\n    await getSearchSong();\n    Toast.hide();\n  }\n\n  /**\n   * 搜索框值改变处理\n   * @param {String} val 搜索框的值\n   */\n  function handleChange(val) {\n    if (!val.trim()) {\n      clearSearchSong();\n    } else {\n      setCurWord(val);\n    }\n  }\n  return (\n    <div>\n      <div>\n        <SearchBar\n          placeholder=\"搜索歌曲、歌手、专辑\"\n          value={curWord}\n          onSubmit={searchWord}\n          onChange={handleChange}\n          onCancel={clearSearchSong}\n        />\n      </div>\n      {!searchResult.length && (\n        <Trending hotWord={hotWord} searchWord={searchWord} />\n      )}\n      {searchResult.map((value) => (\n        <Song data={value} key={value.id} />\n      ))}\n    </div>\n  );\n}\n\nexport default connect(\n  (state) => ({\n    hotWord: state.hotWord,\n    searchResult: state.searchResult,\n    curWord: state.curWord,\n  }),\n  { getSearchSong, clearSearchSong, setCurWord },\n)(Search);\n","import React from 'react';\nimport Home from '@/components/home/';\nimport Rank from '@/components/rank/';\nimport Search from '@/components/search/';\nimport { Tabs } from 'antd-mobile';\nimport logo from '@/assets/logo.svg';\nimport './index.css';\n\n/**\n * 布局设置\n * @author janyin\n */\nfunction Layout() {\n  const tabs = [\n    { title: <span className=\"linkto\">推荐音乐</span> },\n    { title: <span className=\"linkto\">热歌榜</span> },\n    { title: <span className=\"linkto\">搜索</span> },\n  ];\n\n  return (\n    <div>\n      <div className=\"top-fix\">\n        <img src={logo} alt=\"logo\" className=\"topsvg\" />\n        <div className=\"topfr\">\n          <span>React</span>\n        </div>\n      </div>\n      <Tabs tabs={tabs} initialPage={0}>\n        <Home />\n        <Rank />\n        <Search />\n      </Tabs>\n    </div>\n  );\n}\n\nexport default Layout;\n"],"sourceRoot":""}